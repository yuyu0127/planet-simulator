<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>惑星シミュレーター</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>太陽-惑星シミュレーター</h1>
        </header>

        <div class="main-content">
            <!-- パラメータ表示エリア -->
            <div class="parameters-panel">
                <h2>パラメータ</h2>
                <div class="parameter-group">
                    <h3>質量</h3>
                    <div class="param-item">
                        <span class="param-label">太陽 <var>M</var>:</span>
                        <span id="mass-a-display" class="param-value">1.99×10³⁰ kg</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">惑星 <var>m</var>:</span>
                        <span id="mass-b-display" class="param-value">5.972×10²⁴ kg</span>
                    </div>
                </div>

                <div class="parameter-group">
                    <h3>運動状態</h3>
                    <div class="param-item">
                        <span class="param-label">経過時間 <var>t</var>:</span>
                        <span id="time" class="param-value">0.000 年</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">座標:</span>
                        <span id="pos-b" class="param-value">(0, 0) km</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">速さ |<var>v</var>|:</span>
                        <span id="vel-b" class="param-value">0 km/s</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">距離 <var>r</var>:</span>
                        <span id="distance" class="param-value">0 km</span>
                    </div>
                </div>

                <div class="parameter-group">
                    <h3>軌道要素</h3>
                    <div class="param-item">
                        <span class="param-label">周期 <var>T</var>:</span>
                        <span id="period" class="param-value">0 年</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">長半径 <var>a</var>:</span>
                        <span id="semi-major" class="param-value">0 km</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">短半径 <var>b</var>:</span>
                        <span id="semi-minor" class="param-value">0 km</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">離心率 <var>e</var>:</span>
                        <span id="eccentricity" class="param-value">0</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">角度 θ:</span>
                        <span id="angle" class="param-value">0°</span>
                    </div>
                    <div class="param-item">
                        <span class="param-label">sin θ:</span>
                        <span id="sin-angle" class="param-value">0</span>
                    </div>
                </div>
            </div>

            <!-- グラフィカル表示エリア -->
            <div class="canvas-panel">
                <canvas id="simulation-canvas"></canvas>
                <!-- ズームコントロール -->
                <div class="zoom-controls">
                    <button id="zoom-in" class="zoom-btn" title="拡大">+</button>
                    <button id="zoom-reset" class="zoom-btn" title="リセット">⟲</button>
                    <button id="zoom-out" class="zoom-btn" title="縮小">−</button>
                </div>
            </div>

            <!-- コントロールパネル -->
            <div class="controls-panel">
                <h2>コントロール</h2>

                <div class="control-group">
                    <label for="mass-b">惑星の質量（kg）</label>
                    <input type="range" id="mass-b" min="20" max="27" value="24.776" step="0.01">
                    <span id="mass-b-value">5.972×10²⁴ kg</span>
                </div>

                <div class="control-group">
                    <label for="initial-distance">初期距離</label>
                    <input type="range" id="initial-distance" min="0.1" max="5" value="1.521" step="0.01">
                    <span id="initial-distance-value">1.521億 km</span>
                </div>

                <div class="control-group">
                    <label for="initial-velocity">初速度（km/s）</label>
                    <input type="range" id="initial-velocity" min="5" max="100" value="28.3" step="0.1">
                    <span id="initial-velocity-value">28.3 km/s</span>
                </div>

                <div class="planet-presets">
                    <h3>実際の値をセット</h3>
                    <div class="preset-buttons">
                        <button class="preset-btn" data-planet="mercury">水星</button>
                        <button class="preset-btn" data-planet="venus">金星</button>
                        <button class="preset-btn" data-planet="earth">地球</button>
                        <button class="preset-btn" data-planet="mars">火星</button>
                        <button class="preset-btn" data-planet="jupiter">木星</button>
                        <button class="preset-btn" data-planet="saturn">土星</button>
                        <button class="preset-btn" data-planet="uranus">天王星</button>
                        <button class="preset-btn" data-planet="neptune">海王星</button>
                    </div>
                </div>

                <div class="control-group">
                    <label for="speed">シミュレーション速度</label>
                    <input type="range" id="speed" min="0.1" max="100" value="1" step="0.1">
                    <span id="speed-value">1.0x</span>
                </div>

                <div class="button-group">
                    <button id="start-btn" class="btn btn-primary">スタート</button>
                    <button id="stop-btn" class="btn btn-secondary" disabled>停止</button>
                    <button id="reset-btn" class="btn btn-secondary">リセット</button>
                    <button id="clear-trail-btn" class="btn btn-secondary">軌道をクリア</button>
                </div>

                <div class="control-group">
                    <label>
                        <input type="checkbox" id="show-trail" checked>
                        軌道を表示
                    </label>
                </div>

                <div class="control-group">
                    <label>
                        <input type="checkbox" id="show-grid" checked>
                        グリッドを表示
                    </label>
                </div>

                <div class="control-group">
                    <label>
                        <input type="checkbox" id="show-force" checked>
                        力ベクトル表示
                    </label>
                </div>

                <div class="control-group">
                    <label>
                        <input type="checkbox" id="enable-collision" checked>
                        衝突判定を有効化
                    </label>
                </div>

            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
